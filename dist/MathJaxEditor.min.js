!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.MathJaxEditor=t():e.MathJaxEditor=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Array.prototype.slice.call(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.classList.add(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.classList.remove(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(4));n(29),t.default=i.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=i(n(5)),o=i(n(27)),s=(i(n(28)),function(){function e(t,n){r(this,e),this.core=new a.default(t,n),this.core.on("@input",this.insert.bind(this))}return u(e,[{key:"insertNumber",value:function(e){if(e<0||e>9)throw new RangeError("MathjaxEditor: The number must be 0 or up to 9.");var t=document.createElement("mn");t.innerHTML=e,this.core.insert(t)}},{key:"insertIdentifier",value:function(e){if("string"!=typeof e&&!e.match(/^[a-zA-Z]$/))throw new RangeError("MathjaxEditor: A single letter must be provided.");var t=document.createElement("mi");t.innerHTML=e,this.core.insert(t)}},{key:"insertFraction",value:function(){var e=document.createElement("mfrac"),t=document.createElement("mrow"),n=document.createElement("mrow");e.appendChild(t),e.appendChild(n),this.core.insert(e,t)}},{key:"insertSqrt",value:function(){var e=document.createElement("msqrt"),t=document.createElement("mrow");e.appendChild(t),this.core.insert(e,t)}},{key:"insertOperator",value:function(e){if(!o.default[e])throw new TypeError('MathjaxEditor: Unknown operator "'+e+'"');var t=document.createElement("mo");t.innerHTML=o.default[e],this.core.insert(t)}},{key:"insertSuperscript",value:function(){var e=document.createElement("msup"),t=document.createElement("mrow"),n=document.createElement("mrow");e.appendChild(t),e.appendChild(n),this.core.insert(e,t)}},{key:"insert",value:function(e){return e.match(/^[0-9]$/)?this.insertNumber(parseInt(e,10)):e.match(/^[a-zA-Z]$/)?this.insertIdentifier(e):o.default[e]?this.insertOperator(e):void console.warn('MathjaxEditor: insert: unknown "'+e+'"')}}]),e}());t.default=s},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=i(n(6)),o=i(n(7)),s=i(n(9)),l=i(n(10)),c=i(n(11)),f=i(n(15)),h=i(n(1)),d=i(n(16)),p=i(n(17)),v=i(n(18)),m=i(n(19)),y=i(n(20)),b=i(n(21)),g=i(n(22)),x=i(n(23)),w=i(n(24)),$=i(n(2)),M=i(n(25)),k=i(n(26)),E=function(){function e(t){var n=this;arguments.length>1&&void 0!==arguments[1]&&arguments[1];r(this,e),this.$el=(0,b.default)(t),this.$value=(0,y.default)("math"),this.$input=(0,y.default)("input","mathjax-editor-input"),this.$container=(0,y.default)("div","mathjax-editor-container"),this.$display=(0,y.default)("div","mathjax-editor-display"),this.$caret=(0,y.default)("div","mathjax-editor-caret"),this.focused=!1,this.mouseAtDisplay=!1,this.emitter=new l.default,this.tree=new f.default(this.$value),this.rendered=new c.default(this.$display,this.tree),this.cursor=new o.default(this.tree,this.rendered,this.$caret),this.cursorMover=new s.default(this.tree,this.rendered,this.cursor),this.blinker=new a.default(this.$caret),this.placeholder="Start typing...",(0,x.default)(this.$caret),(0,x.default)(this.$el),(0,d.default)(this.$display,this.$value),(0,d.default)(this.$container,this.$display),(0,d.default)(this.$container,this.$input),(0,d.default)(this.$display,this.$caret),(0,p.default)(this.$el,this.$container),(0,g.default)(this.$display).then(function(e){n.jaxElement=e,n.update()}),(0,w.default)(this.$display,"click",this.handleClick.bind(this)),(0,w.default)(this.$input,"keyup",this.handleInput.bind(this)),(0,w.default)(this.$input,"keydown",this.handleInput.bind(this)),(0,w.default)(this.$input,"keydown",this.handleKeydown.bind(this)),(0,w.default)(this.$input,"focus",this.handleFocus.bind(this)),(0,w.default)(this.$input,"blur",this.handleBlur.bind(this)),(0,w.default)(this.$display,"mouseenter",this.handleMouseenter.bind(this)),(0,w.default)(this.$display,"mouseleave",this.handleMouseleave.bind(this))}return u(e,[{key:"handleClick",value:function(e){var t=e.clientX,n=e.clientY;this.focus(),this.cursorMover.click(t,n),this.blinker.freeze()}},{key:"handleFocus",value:function(){this.focused=!0,(0,h.default)(this.$display,"is-focused"),(0,M.default)(this.$caret)}},{key:"handleBlur",value:function(){this.mouseAtDisplay||(this.focused=!1,(0,$.default)(this.$display,"is-focused"),(0,x.default)(this.$caret))}},{key:"handleInput",value:function(){var e=this.$input.value.trim();this.$input.value="",e.length&&this.emitter.emit("@input",e)}},{key:"handleMouseenter",value:function(){this.mouseAtDisplay=!0}},{key:"handleMouseleave",value:function(){this.mouseAtDisplay=!1}},{key:"handleKeydown",value:function(e){switch(e.which){case 8:return this.backspaceRemove();case 13:return this.insertNewline();case 37:return this.moveCursorLeft();case 39:return this.moveCursorRight();case 46:return this.deleteRemove()}}},{key:"update",value:function(){var e=this;this.jaxElement&&(this.tree.update(),this.jaxElement.setValue((0,k.default)(this.$value,this.placeholder)).update().then(function(){e.rendered.update(),e.cursor.update()}))}},{key:"backspaceRemove",value:function(){(0,m.default)(this.$value,this.cursor),this.update()}},{key:"deleteRemove",value:function(){(0,v.default)(this.$value,this.cursor),this.update()}},{key:"insert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.cursor.getPosition();if(n)switch(n.tagName){case"MROW":n.insertBefore(e,n.firstElementChild);break;case"MATH":this.$value.appendChild(e);break;default:n.parentNode.insertBefore(e,n.nextSibling)}else this.$value.insertBefore(e,this.$value.firstElementChild);this.cursor.setPosition(t||e),this.focus(),this.update()}},{key:"insertNewline",value:function(){var e=this.cursor.getPosition();if(!e||"MATH"===e.tagName||"MATH"===e.parentNode.tagName){var t=document.createElement("mspace");t.setAttribute("linebreak","newline"),this.insert(t)}}},{key:"moveCursorLeft",value:function(){return this.cursor.moveLeft()}},{key:"moveCursorRight",value:function(){return this.cursor.moveRight()}},{key:"on",value:function(e,t){return this.emitter.on(e,t)}},{key:"focus",value:function(){return this.$input.focus()}}]),e}();t.default=E},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=i(n(1)),o=i(n(2)),s=function(){function e(t){var n=this;r(this,e),this.$caret=t,this.freezeDuration=500,this.blinkDuration=500,this.id=setInterval(function(){"block"===n.$caret.style.display&&(n.$caret.style.opacity="0"===n.$caret.style.opacity?"1":"0")},this.blinkDuration),this.prevFreezeId=null}return u(e,[{key:"destroy",value:function(){clearInterval(this.id)}},{key:"freeze",value:function(){var e=this;clearInterval(this.prevFreezeId),(0,a.default)(this.$caret,"is-freezed"),this.prevFreezeId=setTimeout(function(){(0,o.default)(e.$caret,"is-freezed")},this.freezeDuration)}}]),e}();t.default=s},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(e){return e&&e.__esModule?e:{default:e}}(n(8)),a=function(){function e(t,n,r){i(this,e),this.tree=t,this.rendered=n,this.$caret=r,this.$position=null}return r(e,[{key:"getCaretBounding",value:function(){return this.$caret.getBoundingClientRect()}},{key:"getPosition",value:function(){return this.$position}},{key:"setPosition",value:function(e){return this.$position=e,this}},{key:"moveLeft",value:function(){if(!this.$position)return this.update();var e=this.tree.getPath(),t=e.indexOf(this.$position);this.$position=e[t-1],this.update()}},{key:"moveRight",value:function(){var e=this.tree.getPath();if(this.$position){var t=e[e.indexOf(this.$position)+1],n="MATH"===t.tagName,i=this.$position.parentNode===t;!t||n&&i||(this.$position=t)}else{var r=e[1];"MATH"!==r.tagName&&(this.$position=r)}this.update()}},{key:"update",value:function(){var e=this.rendered.findElement(this.$position).getCaretPosition();e.$parent.appendChild(this.$caret),this.$caret.style.top=(0,u.default)(e.top),this.$caret.style.left=(0,u.default)(e.left),this.$caret.style.height=(0,u.default)(e.height)}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e+"px"}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(){function e(t,n,r){i(this,e),this.tree=t,this.rendered=n,this.cursor=r}return r(e,[{key:"click",value:function(e,t){var n=1/0,i=null,r=!0,u=!1,a=void 0;try{for(var o,s=this.rendered.getLines()[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;if(l.betweenYAxis(t)&&!l.betweenXAxis(e))return e>l.x2?this.cursor.setPosition(l.getLastElement().getElement()).update():this.cursor.setPosition(l.getFirstElement().getElement()).update()}}catch(e){u=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(u)throw a}}var c=!0,f=!1,h=void 0;try{for(var d,p=this.tree.getPath()[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var v=d.value;if(!v||"MATH"!==v.tagName){this.cursor.setPosition(v).update();var m=this.cursor.getCaretBounding(),y=m.left+m.width/2,b=m.top+m.height/2,g=Math.sqrt(Math.pow(e-y,2)+Math.pow(t-b,2));n>g&&(n=g,i=v)}}}catch(e){f=!0,h=e}finally{try{!c&&p.return&&p.return()}finally{if(f)throw h}}this.cursor.setPosition(i).update()}}]),e}();t.default=u},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(){function e(){i(this,e),this.listeners={}}return r(e,[{key:"on",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"emit",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.listeners[e]&&this.listeners[e].forEach(function(e){return e.apply(void 0,n)})}}]),e}();t.default=u},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=i(n(12)),o=i(n(14)),s=i(n(0)),l=function(){function e(t,n){r(this,e),this.$display=t,this.tree=n,this.elements=[],this.lines=[]}return u(e,[{key:"getLines",value:function(){return this.lines}},{key:"getElements",value:function(){return this.elements}},{key:"findRenderedLines",value:function(){var e=(0,s.default)(this.$display.querySelectorAll(".mjx-block"));return e.length?e.map(function(e){return e.firstElementChild}):[this.$display.querySelector(".mjx-math")]}},{key:"findRenderedElement",value:function(e){if(!e)return null;var t=e.getAttribute("id");return this.$display.querySelector("#"+t)}},{key:"findElement",value:function(e){return this.elements.find(function(t){return t.$el===e})}},{key:"update",value:function(){var e=0,t=this.findRenderedLines(),n=[new o.default];this.lines=[],this.elements=[],n[e].setRendered(t[e]);var i=!0,r=!1,u=void 0;try{for(var s,l=this.tree.getPath()[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=s.value,f=n[e],h=this.findRenderedElement(c),d=new a.default(c,h);c&&"MSPACE"===c.tagName&&(e+=1,(f=new o.default).setRendered(t[e]),n.push(f)),d.rendered=this,d.line=f,f.elements.push(d),this.elements.push(d)}}catch(e){r=!0,u=e}finally{try{!i&&l.return&&l.return()}finally{if(r)throw u}}this.lines=n}}]),e}();t.default=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=(function(e){e&&e.__esModule}(n(13)),function(){function e(t,n){if(i(this,e),this.$el=t,this.$rendered=n,this.line=null,this.rendered=null,n){var r=n.getBoundingClientRect();this.width=r.width,this.height=r.height,this.x1=r.left,this.x2=r.right,this.y1=r.top,this.y2=r.bottom,this.cx=this.x1+this.width/2,this.cy=this.y1+this.height/2,this.top=n.offsetTop,this.left=n.offsetLeft}}return r(e,[{key:"getElement",value:function(){return this.$el}},{key:"getTagName",value:function(){return this.$el?this.$el.tagName:"NULL"}},{key:"isTagName",value:function(e){return this.getTagName()===e}},{key:"hasChildren",value:function(){return!!this.$el.children.length}},{key:"getLastChild",value:function(){return this.$el.children[this.$el.children.length-1]}},{key:"getCaretPosition",value:function(){if(!this.$el)return{top:this.line.top,left:this.line.left,height:this.line.height,$parent:this.line.$rendered.parentNode};var e=this.line.height;return this.isTagName("MROW")?e=this.height:"MROW"===this.$el.parentNode.tagName&&(e=this.rendered.findElement(this.$el.parentNode).$rendered.clientHeight),{top:Math.max(this.top-Math.max(e-this.height,0),0),left:this.left+(this.isTagName("MROW")?0:this.width),height:e,$parent:this.$rendered.parentNode}}}]),e}());t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.classList.contains(t)}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(){function e(){i(this,e),this.elements=[],this.$rendered=null,this.width=null,this.left=null,this.x1=null,this.x2=null,this.y1=null,this.y2=null,this.left=null,this.top=null}return r(e,[{key:"setRendered",value:function(e){var t=e.getBoundingClientRect();this.width=t.width,this.height=t.height,this.x1=t.left,this.x2=t.right,this.y1=t.top,this.y2=t.bottom,this.left=e.offsetLeft,this.top=e.offsetTop,this.$rendered=e}},{key:"getFirstElement",value:function(){return this.elements[0]}},{key:"getLastElement",value:function(){for(var e=void 0,t=this.elements.length-1;e=this.elements[t--];)if(!e.isTagName("MATH"))return e;return null}},{key:"betweenYAxis",value:function(e){return e>this.y1&&e<this.y2}},{key:"betweenXAxis",value:function(e){return e>this.x1&&e<this.x2}}]),e}();t.default=u},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),a=function(){function e(t){i(this,e),this.$value=t,this.path=[],this.nextId=0,this.update()}return r(e,[{key:"setValue",value:function(e){return this.$value=e,this}},{key:"getPath",value:function(){return this.path}},{key:"update",value:function(){var e=this;this.path=[null];!function t(n){var i=(0,u.default)(n.children);if(n.hasAttribute("id")||n.setAttribute("id","mje"+e.nextId++),e.path.push(n),i.forEach(function(e){return t(e)}),i.length&&"MROW"!==n.tagName){var r=e.path.indexOf(n);e.path.splice(r,1),e.path.push(n)}}(this.$value)}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.appendChild(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.parentNode.insertBefore(t,e.nextSibling)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=t.getPosition();if(n)if(n.nextElementSibling)n.parentNode.removeChild(n.nextElementSibling);else{var i=n.parentNode;"MROW"===i.tagName?(t.setPosition(i.parentNode.previousElementSibling),i.parentNode.parentNode.removeChild(i.parentNode)):i.parentNode.removeChild(i)}else e.removeChild(e.firstElementChild)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=t.getPosition();if(n)if("MROW"===n.tagName){var i=n.parentNode,r=i.previousElementSibling;i.parentNode.removeChild(i),t.setPosition(r)}else n.previousElementSibling?t.setPosition(n.previousElementSibling):"MROW"===n.parentNode.tagName?t.setPosition(n.parentNode):t.setPosition(n.parentNode.previousElementSibling),n.parentNode.removeChild(n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=document.createElement(e);return n.className=t,n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t="string"==typeof e?document.querySelector(e):1===e.nodeType?e:null;if(!t)throw new ReferenceError("MathjaxEditor: Target TEXTAREA was not found.");if("TEXTAREA"!==t.tagName)throw new TypeError("MathjaxEditor: Target element must be a TEXTAREA.");return t}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.default=function(e,t){return new Promise(function(t){MathJax.Hub.Config({displayAlign:"left"}),MathJax.Hub.Queue(["Typeset",MathJax.Hub,e,function(){var n=MathJax.Hub.getAllJax(e)[0];n.Text("<math><mo>...</mo></math>",function(){return t(new u(n))})}])})};var u=function(){function e(t){i(this,e),this.jax=t,this.value=""}return r(e,[{key:"setValue",value:function(e){return this.value=e,this}},{key:"update",value:function(){var e=this;return new Promise(function(t){e.jax.Text(e.value,function(){return t()})})}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.style.display="none"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return e.addEventListener(t,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.style.display="block"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.cloneNode(!0);return n.children.length||(n.innerHTML='<mtext class="mathjax-editor-placeholder">'+t+"</mtext>"),(0,i.default)(n.querySelectorAll("mrow")).forEach(function(e){if(e.children.length){if("MSQRT"===e.parentNode.tagName){var t=document.createElement("mspace");t.setAttribute("width","thinmathspace"),t.className="mathjax-editor-helper",e.appendChild(t)}}else{var n=document.createElement("mo");n.className="mathjax-editor-placeholder",n.innerHTML="?",e.appendChild(n)}}),(0,i.default)(n.querySelectorAll("mspace")).forEach(function(e){if("newline"===e.getAttribute("linebreak")){var t=e.previousElementSibling,n=e.nextElementSibling,i=document.createElement("mo");i.className="mathjax-editor-newline-empty",i.innerHTML="⏎",n&&"MATH"!==n.tagName||e.parentNode.insertBefore(i,e.nextSibling),t&&"MSPACE"!==t.tagName||e.parentNode.insertBefore(i.cloneNode(!0),e)}}),n.outerHTML};var i=function(e){return e&&e.__esModule?e:{default:e}}(n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"+":"+","-":"-","=":"=","*":"&#x22C5;\x3c!-- ⋅ --\x3e","/":"&#x00F7;\x3c!-- ÷ --\x3e",div:"&#x00F7;\x3c!-- ÷ --\x3e",times:"&#x00D7;\x3c!-- × --\x3e",cdot:"&#x22C5;\x3c!-- ⋅ --\x3e",pm:"&#x00B1;\x3c!-- ± --\x3e"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return-1!==e.indexOf(t)}},function(e,t,n){"use strict";var i=function(e){return e&&e.__esModule?e:{default:e}}(n(30));window.addEventListener("load",function(){if(!MathJax)throw new Error("MathjaxEditor: MathJax is missing.");MathJax.Hub.processSectionDelay=0,MathJax.Ajax.Styles(i.default)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={".mathjax-editor-input":{left:"-100%",position:"absolute",top:"-100%"},".mathjax-editor-container":{position:"relative"},".mathjax-editor-display":{"background-color":"#fff",cursor:"text","-moz-user-select":"none","-webkit-user-select":"none","-ms-user-select":"none","user-select":"none"},".mathjax-editor-display .mjx-chtml":{outline:"none !important"},".mathjax-editor-caret":{"background-color":"#000",position:"absolute",width:"1px"},".mathjax-editor-caret.is-freezed":{opacity:"1 !important"},".mathjax-editor-newline-empty":{opacity:.2},".mathjax-editor-placeholder":{color:"#ccc"}}}]).default});